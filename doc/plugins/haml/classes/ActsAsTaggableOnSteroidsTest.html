<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: ActsAsTaggableOnSteroidsTest</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">ActsAsTaggableOnSteroidsTest</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../files/vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test_rb.html">
                vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                Test::Unit::TestCase
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">



   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000268">test_basic_tag_counts_on_class</a>&nbsp;&nbsp;
      <a href="#M000293">test_cached_tag_list_not_used</a>&nbsp;&nbsp;
      <a href="#M000294">test_cached_tag_list_updated</a>&nbsp;&nbsp;
      <a href="#M000292">test_cached_tag_list_used</a>&nbsp;&nbsp;
      <a href="#M000298">test_case_insensitivity</a>&nbsp;&nbsp;
      <a href="#M000283">test_change_case_of_tags</a>&nbsp;&nbsp;
      <a href="#M000287">test_clear_tag_list_with_nil</a>&nbsp;&nbsp;
      <a href="#M000288">test_clear_tag_list_with_string</a>&nbsp;&nbsp;
      <a href="#M000295">test_clearing_cached_tag_list</a>&nbsp;&nbsp;
      <a href="#M000265">test_find_options_for_find_tagged_with_leaves_arguments_unchanged</a>&nbsp;&nbsp;
      <a href="#M000264">test_find_options_for_find_tagged_with_no_tags_returns_empty_hash</a>&nbsp;&nbsp;
      <a href="#M000266">test_find_options_for_find_tagged_with_respects_custom_table_name</a>&nbsp;&nbsp;
      <a href="#M000256">test_find_tagged_with</a>&nbsp;&nbsp;
      <a href="#M000261">test_find_tagged_with_conditions</a>&nbsp;&nbsp;
      <a href="#M000262">test_find_tagged_with_duplicates_options_hash</a>&nbsp;&nbsp;
      <a href="#M000263">test_find_tagged_with_exclusions</a>&nbsp;&nbsp;
      <a href="#M000259">test_find_tagged_with_match_all</a>&nbsp;&nbsp;
      <a href="#M000260">test_find_tagged_with_match_all_and_include</a>&nbsp;&nbsp;
      <a href="#M000258">test_find_tagged_with_nonexistant_tags</a>&nbsp;&nbsp;
      <a href="#M000257">test_find_tagged_with_nothing</a>&nbsp;&nbsp;
      <a href="#M000296">test_find_tagged_with_using_sti</a>&nbsp;&nbsp;
      <a href="#M000267">test_include_tags_on_find_tagged_with</a>&nbsp;&nbsp;
      <a href="#M000290">test_instance_tag_counts</a>&nbsp;&nbsp;
      <a href="#M000281">test_new_tags</a>&nbsp;&nbsp;
      <a href="#M000280">test_reassign_tag_list</a>&nbsp;&nbsp;
      <a href="#M000284">test_remove_and_add_tag</a>&nbsp;&nbsp;
      <a href="#M000282">test_remove_tag</a>&nbsp;&nbsp;
      <a href="#M000272">test_tag_counts_duplicates_options_hash</a>&nbsp;&nbsp;
      <a href="#M000275">test_tag_counts_on_association</a>&nbsp;&nbsp;
      <a href="#M000276">test_tag_counts_on_association_with_options</a>&nbsp;&nbsp;
      <a href="#M000269">test_tag_counts_on_class_with_date_conditions</a>&nbsp;&nbsp;
      <a href="#M000270">test_tag_counts_on_class_with_frequencies</a>&nbsp;&nbsp;
      <a href="#M000271">test_tag_counts_on_class_with_frequencies_and_conditions</a>&nbsp;&nbsp;
      <a href="#M000277">test_tag_counts_on_has_many_through</a>&nbsp;&nbsp;
      <a href="#M000278">test_tag_counts_respects_custom_table_names</a>&nbsp;&nbsp;
      <a href="#M000297">test_tag_counts_using_sti</a>&nbsp;&nbsp;
      <a href="#M000273">test_tag_counts_with_limit</a>&nbsp;&nbsp;
      <a href="#M000274">test_tag_counts_with_limit_and_order</a>&nbsp;&nbsp;
      <a href="#M000300">test_tag_destroyed_when_unused</a>&nbsp;&nbsp;
      <a href="#M000286">test_tag_list_accessors_on_new_record</a>&nbsp;&nbsp;
      <a href="#M000291">test_tag_list_populated_when_cache_nil</a>&nbsp;&nbsp;
      <a href="#M000279">test_tag_list_reader</a>&nbsp;&nbsp;
      <a href="#M000289">test_tag_list_reset_on_reload</a>&nbsp;&nbsp;
      <a href="#M000299">test_tag_not_destroyed_when_unused</a>&nbsp;&nbsp;
      <a href="#M000285">test_tags_not_saved_if_validation_fails</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">





      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000268" class="method-detail">
        <a name="M000268"></a>

        <div class="method-heading">
          <a href="#M000268" class="method-signature">
          <span class="method-name">test_basic_tag_counts_on_class</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000268-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000268-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test.rb, line 87</span>
87:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_basic_tag_counts_on_class</span>
88:     <span class="ruby-identifier">assert_tag_counts</span> <span class="ruby-constant">Post</span>.<span class="ruby-identifier">tag_counts</span>, <span class="ruby-identifier">:good</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">:nature</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7</span>, <span class="ruby-identifier">:question</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">:bad</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
89:     <span class="ruby-identifier">assert_tag_counts</span> <span class="ruby-constant">Photo</span>.<span class="ruby-identifier">tag_counts</span>, <span class="ruby-identifier">:good</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">:nature</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>, <span class="ruby-identifier">:question</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">:bad</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">:animal</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>
90:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000293" class="method-detail">
        <a name="M000293"></a>

        <div class="method-heading">
          <a href="#M000293" class="method-signature">
          <span class="method-name">test_cached_tag_list_not_used</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000293-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000293-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test.rb, line 262</span>
262:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_cached_tag_list_not_used</span>
263:     <span class="ruby-comment cmt"># Load fixture and column information</span>
264:     <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_sky</span>).<span class="ruby-identifier">taggings</span>(<span class="ruby-identifier">:reload</span>)
265:     
266:     <span class="ruby-identifier">assert_queries</span> <span class="ruby-value">1</span> <span class="ruby-keyword kw">do</span>
267:       <span class="ruby-comment cmt"># Tags association will be loaded</span>
268:       <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_sky</span>).<span class="ruby-identifier">tag_list</span>
269:     <span class="ruby-keyword kw">end</span>
270:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000294" class="method-detail">
        <a name="M000294"></a>

        <div class="method-heading">
          <a href="#M000294" class="method-signature">
          <span class="method-name">test_cached_tag_list_updated</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000294-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000294-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test.rb, line 272</span>
272:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_cached_tag_list_updated</span>
273:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_sky</span>).<span class="ruby-identifier">cached_tag_list</span>
274:     <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_sky</span>).<span class="ruby-identifier">save!</span>
275:     <span class="ruby-identifier">assert_equivalent</span> [<span class="ruby-value str">&quot;Very good&quot;</span>, <span class="ruby-value str">&quot;Nature&quot;</span>], <span class="ruby-constant">TagList</span>.<span class="ruby-identifier">from</span>(<span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_sky</span>).<span class="ruby-identifier">cached_tag_list</span>)
276:     <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_sky</span>).<span class="ruby-identifier">update_attributes!</span>(<span class="ruby-identifier">:tag_list</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;None&quot;</span>)
277:     
278:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'None'</span>, <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_sky</span>).<span class="ruby-identifier">cached_tag_list</span>
279:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'None'</span>, <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_sky</span>).<span class="ruby-identifier">reload</span>.<span class="ruby-identifier">cached_tag_list</span>
280:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000292" class="method-detail">
        <a name="M000292"></a>

        <div class="method-heading">
          <a href="#M000292" class="method-signature">
          <span class="method-name">test_cached_tag_list_used</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000292-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000292-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test.rb, line 253</span>
253:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_cached_tag_list_used</span>
254:     <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_sky</span>).<span class="ruby-identifier">save!</span>
255:     <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_sky</span>).<span class="ruby-identifier">reload</span>
256:     
257:     <span class="ruby-identifier">assert_no_queries</span> <span class="ruby-keyword kw">do</span>
258:       <span class="ruby-identifier">assert_equivalent</span> [<span class="ruby-value str">&quot;Very good&quot;</span>, <span class="ruby-value str">&quot;Nature&quot;</span>], <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_sky</span>).<span class="ruby-identifier">tag_list</span>
259:     <span class="ruby-keyword kw">end</span>
260:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000298" class="method-detail">
        <a name="M000298"></a>

        <div class="method-heading">
          <a href="#M000298" class="method-signature">
          <span class="method-name">test_case_insensitivity</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000298-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000298-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test.rb, line 303</span>
303:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_case_insensitivity</span>
304:     <span class="ruby-identifier">assert_difference</span> <span class="ruby-value str">&quot;Tag.count&quot;</span>, <span class="ruby-value">1</span> <span class="ruby-keyword kw">do</span>
305:       <span class="ruby-constant">Post</span>.<span class="ruby-identifier">create!</span>(<span class="ruby-identifier">:text</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Test&quot;</span>, <span class="ruby-identifier">:tag_list</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;one&quot;</span>)
306:       <span class="ruby-constant">Post</span>.<span class="ruby-identifier">create!</span>(<span class="ruby-identifier">:text</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Test&quot;</span>, <span class="ruby-identifier">:tag_list</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;One&quot;</span>)
307:     <span class="ruby-keyword kw">end</span>
308:     
309:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find_tagged_with</span>(<span class="ruby-value str">&quot;Nature&quot;</span>), <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find_tagged_with</span>(<span class="ruby-value str">&quot;nature&quot;</span>)
310:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000283" class="method-detail">
        <a name="M000283"></a>

        <div class="method-heading">
          <a href="#M000283" class="method-signature">
          <span class="method-name">test_change_case_of_tags</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000283-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000283-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test.rb, line 186</span>
186:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_change_case_of_tags</span>
187:     <span class="ruby-identifier">original_tag_names</span> = <span class="ruby-identifier">photos</span>(<span class="ruby-identifier">:jonathan_questioning_dog</span>).<span class="ruby-identifier">tag_list</span>
188:     <span class="ruby-identifier">photos</span>(<span class="ruby-identifier">:jonathan_questioning_dog</span>).<span class="ruby-identifier">update_attributes!</span>(<span class="ruby-identifier">:tag_list</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">photos</span>(<span class="ruby-identifier">:jonathan_questioning_dog</span>).<span class="ruby-identifier">tag_list</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">upcase</span>)
189:     
190:     <span class="ruby-comment cmt"># The new tag list is not uppercase becuase the AR finders are not case-sensitive</span>
191:     <span class="ruby-comment cmt"># and find the old tags when re-tagging with the uppercase tags.</span>
192:     <span class="ruby-identifier">assert_equivalent</span> <span class="ruby-identifier">original_tag_names</span>, <span class="ruby-identifier">photos</span>(<span class="ruby-identifier">:jonathan_questioning_dog</span>).<span class="ruby-identifier">reload</span>.<span class="ruby-identifier">tag_list</span>
193:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000287" class="method-detail">
        <a name="M000287"></a>

        <div class="method-heading">
          <a href="#M000287" class="method-signature">
          <span class="method-name">test_clear_tag_list_with_nil</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000287-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000287-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test.rb, line 215</span>
215:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_clear_tag_list_with_nil</span>
216:     <span class="ruby-identifier">p</span> = <span class="ruby-identifier">photos</span>(<span class="ruby-identifier">:jonathan_questioning_dog</span>)
217:     
218:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">p</span>.<span class="ruby-identifier">tag_list</span>.<span class="ruby-identifier">blank?</span>
219:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">update_attributes</span>(<span class="ruby-identifier">:tag_list</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">nil</span>)
220:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">tag_list</span>.<span class="ruby-identifier">blank?</span>
221:     
222:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">reload</span>.<span class="ruby-identifier">tag_list</span>.<span class="ruby-identifier">blank?</span>
223:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000288" class="method-detail">
        <a name="M000288"></a>

        <div class="method-heading">
          <a href="#M000288" class="method-signature">
          <span class="method-name">test_clear_tag_list_with_string</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000288-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000288-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test.rb, line 225</span>
225:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_clear_tag_list_with_string</span>
226:     <span class="ruby-identifier">p</span> = <span class="ruby-identifier">photos</span>(<span class="ruby-identifier">:jonathan_questioning_dog</span>)
227:     
228:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">p</span>.<span class="ruby-identifier">tag_list</span>.<span class="ruby-identifier">blank?</span>
229:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">update_attributes</span>(<span class="ruby-identifier">:tag_list</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'  '</span>)
230:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">tag_list</span>.<span class="ruby-identifier">blank?</span>
231:     
232:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">reload</span>.<span class="ruby-identifier">tag_list</span>.<span class="ruby-identifier">blank?</span>
233:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000295" class="method-detail">
        <a name="M000295"></a>

        <div class="method-heading">
          <a href="#M000295" class="method-signature">
          <span class="method-name">test_clearing_cached_tag_list</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000295-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000295-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test.rb, line 282</span>
282:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_clearing_cached_tag_list</span>
283:     <span class="ruby-comment cmt"># Generate the cached tag list</span>
284:     <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_sky</span>).<span class="ruby-identifier">save!</span>
285:     
286:     <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_sky</span>).<span class="ruby-identifier">update_attributes!</span>(<span class="ruby-identifier">:tag_list</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;&quot;</span>)
287:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&quot;</span>, <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_sky</span>).<span class="ruby-identifier">cached_tag_list</span>
288:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000265" class="method-detail">
        <a name="M000265"></a>

        <div class="method-heading">
          <a href="#M000265" class="method-signature">
          <span class="method-name">test_find_options_for_find_tagged_with_leaves_arguments_unchanged</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000265-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000265-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test.rb, line 58</span>
58:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_find_options_for_find_tagged_with_leaves_arguments_unchanged</span>
59:     <span class="ruby-identifier">original_tags</span> = <span class="ruby-identifier">photos</span>(<span class="ruby-identifier">:jonathan_questioning_dog</span>).<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">dup</span>
60:     <span class="ruby-constant">Photo</span>.<span class="ruby-identifier">find_options_for_find_tagged_with</span>(<span class="ruby-identifier">photos</span>(<span class="ruby-identifier">:jonathan_questioning_dog</span>).<span class="ruby-identifier">tags</span>)
61:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">original_tags</span>, <span class="ruby-identifier">photos</span>(<span class="ruby-identifier">:jonathan_questioning_dog</span>).<span class="ruby-identifier">tags</span>
62:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000264" class="method-detail">
        <a name="M000264"></a>

        <div class="method-heading">
          <a href="#M000264" class="method-signature">
          <span class="method-name">test_find_options_for_find_tagged_with_no_tags_returns_empty_hash</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000264-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000264-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test.rb, line 53</span>
53:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_find_options_for_find_tagged_with_no_tags_returns_empty_hash</span>
54:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>, <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find_options_for_find_tagged_with</span>(<span class="ruby-value str">&quot;&quot;</span>)
55:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>, <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find_options_for_find_tagged_with</span>([<span class="ruby-keyword kw">nil</span>])
56:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000266" class="method-detail">
        <a name="M000266"></a>

        <div class="method-heading">
          <a href="#M000266" class="method-signature">
          <span class="method-name">test_find_options_for_find_tagged_with_respects_custom_table_name</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000266-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000266-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test.rb, line 64</span>
64:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_find_options_for_find_tagged_with_respects_custom_table_name</span>
65:     <span class="ruby-constant">Tagging</span>.<span class="ruby-identifier">table_name</span> = <span class="ruby-value str">&quot;categorisations&quot;</span>
66:     <span class="ruby-constant">Tag</span>.<span class="ruby-identifier">table_name</span> = <span class="ruby-value str">&quot;categories&quot;</span>
67:     
68:     <span class="ruby-identifier">options</span> = <span class="ruby-constant">Photo</span>.<span class="ruby-identifier">find_options_for_find_tagged_with</span>(<span class="ruby-value str">&quot;Hello&quot;</span>)
69:     
70:     <span class="ruby-identifier">assert_no_match</span>(<span class="ruby-regexp re">/ taggings /</span>, <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:joins</span>])
71:     <span class="ruby-identifier">assert_no_match</span>(<span class="ruby-regexp re">/ tags /</span>, <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:joins</span>])
72:     
73:     <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp re">/ categorisations /</span>, <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:joins</span>])
74:     <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp re">/ categories /</span>, <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:joins</span>])
75:   <span class="ruby-keyword kw">ensure</span>
76:     <span class="ruby-constant">Tagging</span>.<span class="ruby-identifier">table_name</span> = <span class="ruby-value str">&quot;taggings&quot;</span>
77:     <span class="ruby-constant">Tag</span>.<span class="ruby-identifier">table_name</span> = <span class="ruby-value str">&quot;tags&quot;</span>
78:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000256" class="method-detail">
        <a name="M000256"></a>

        <div class="method-heading">
          <a href="#M000256" class="method-signature">
          <span class="method-name">test_find_tagged_with</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000256-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000256-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test.rb, line 6</span>
 6:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_find_tagged_with</span>
 7:     <span class="ruby-identifier">assert_equivalent</span> [<span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_sky</span>), <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:sam_flowers</span>)], <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find_tagged_with</span>(<span class="ruby-value str">'&quot;Very good&quot;'</span>)
 8:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find_tagged_with</span>(<span class="ruby-value str">'&quot;Very good&quot;'</span>), <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find_tagged_with</span>([<span class="ruby-value str">'Very good'</span>])
 9:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find_tagged_with</span>(<span class="ruby-value str">'&quot;Very good&quot;'</span>), <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find_tagged_with</span>([<span class="ruby-identifier">tags</span>(<span class="ruby-identifier">:good</span>)])
10:     
11:     <span class="ruby-identifier">assert_equivalent</span> [<span class="ruby-identifier">photos</span>(<span class="ruby-identifier">:jonathan_dog</span>), <span class="ruby-identifier">photos</span>(<span class="ruby-identifier">:sam_flower</span>), <span class="ruby-identifier">photos</span>(<span class="ruby-identifier">:sam_sky</span>)], <span class="ruby-constant">Photo</span>.<span class="ruby-identifier">find_tagged_with</span>(<span class="ruby-value str">'Nature'</span>)
12:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Photo</span>.<span class="ruby-identifier">find_tagged_with</span>(<span class="ruby-value str">'Nature'</span>), <span class="ruby-constant">Photo</span>.<span class="ruby-identifier">find_tagged_with</span>([<span class="ruby-value str">'Nature'</span>])
13:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Photo</span>.<span class="ruby-identifier">find_tagged_with</span>(<span class="ruby-value str">'Nature'</span>), <span class="ruby-constant">Photo</span>.<span class="ruby-identifier">find_tagged_with</span>([<span class="ruby-identifier">tags</span>(<span class="ruby-identifier">:nature</span>)])
14:     
15:     <span class="ruby-identifier">assert_equivalent</span> [<span class="ruby-identifier">photos</span>(<span class="ruby-identifier">:jonathan_bad_cat</span>), <span class="ruby-identifier">photos</span>(<span class="ruby-identifier">:jonathan_dog</span>), <span class="ruby-identifier">photos</span>(<span class="ruby-identifier">:jonathan_questioning_dog</span>)], <span class="ruby-constant">Photo</span>.<span class="ruby-identifier">find_tagged_with</span>(<span class="ruby-value str">'&quot;Crazy animal&quot; Bad'</span>)
16:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Photo</span>.<span class="ruby-identifier">find_tagged_with</span>(<span class="ruby-value str">'&quot;Crazy animal&quot; Bad'</span>), <span class="ruby-constant">Photo</span>.<span class="ruby-identifier">find_tagged_with</span>([<span class="ruby-value str">'Crazy animal'</span>, <span class="ruby-value str">'Bad'</span>])
17:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Photo</span>.<span class="ruby-identifier">find_tagged_with</span>(<span class="ruby-value str">'&quot;Crazy animal&quot; Bad'</span>), <span class="ruby-constant">Photo</span>.<span class="ruby-identifier">find_tagged_with</span>([<span class="ruby-identifier">tags</span>(<span class="ruby-identifier">:animal</span>), <span class="ruby-identifier">tags</span>(<span class="ruby-identifier">:bad</span>)])
18:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000261" class="method-detail">
        <a name="M000261"></a>

        <div class="method-heading">
          <a href="#M000261" class="method-signature">
          <span class="method-name">test_find_tagged_with_conditions</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000261-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000261-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test.rb, line 39</span>
39:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_find_tagged_with_conditions</span>
40:     <span class="ruby-identifier">assert_equal</span> [], <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find_tagged_with</span>(<span class="ruby-value str">'&quot;Very good&quot;, Nature'</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1=0'</span>)
41:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000262" class="method-detail">
        <a name="M000262"></a>

        <div class="method-heading">
          <a href="#M000262" class="method-signature">
          <span class="method-name">test_find_tagged_with_duplicates_options_hash</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000262-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000262-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test.rb, line 43</span>
43:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_find_tagged_with_duplicates_options_hash</span>
44:     <span class="ruby-identifier">options</span> = { <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1=1'</span> }.<span class="ruby-identifier">freeze</span>
45:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find_tagged_with</span>(<span class="ruby-value str">&quot;Nature&quot;</span>, <span class="ruby-identifier">options</span>) }
46:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000263" class="method-detail">
        <a name="M000263"></a>

        <div class="method-heading">
          <a href="#M000263" class="method-signature">
          <span class="method-name">test_find_tagged_with_exclusions</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000263-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000263-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test.rb, line 48</span>
48:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_find_tagged_with_exclusions</span>
49:     <span class="ruby-identifier">assert_equivalent</span> [<span class="ruby-identifier">photos</span>(<span class="ruby-identifier">:jonathan_questioning_dog</span>), <span class="ruby-identifier">photos</span>(<span class="ruby-identifier">:jonathan_bad_cat</span>)], <span class="ruby-constant">Photo</span>.<span class="ruby-identifier">find_tagged_with</span>(<span class="ruby-value str">&quot;Nature&quot;</span>, <span class="ruby-identifier">:exclude</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>)
50:     <span class="ruby-identifier">assert_equivalent</span> [<span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_grass</span>), <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_rain</span>), <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_cloudy</span>), <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_still_cloudy</span>)], <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find_tagged_with</span>(<span class="ruby-value str">&quot;'Very good', Bad&quot;</span>, <span class="ruby-identifier">:exclude</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>)
51:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000259" class="method-detail">
        <a name="M000259"></a>

        <div class="method-heading">
          <a href="#M000259" class="method-signature">
          <span class="method-name">test_find_tagged_with_match_all</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000259-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000259-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test.rb, line 31</span>
31:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_find_tagged_with_match_all</span>
32:     <span class="ruby-identifier">assert_equivalent</span> [<span class="ruby-identifier">photos</span>(<span class="ruby-identifier">:jonathan_dog</span>)], <span class="ruby-constant">Photo</span>.<span class="ruby-identifier">find_tagged_with</span>(<span class="ruby-value str">'Crazy animal, &quot;Nature&quot;'</span>, <span class="ruby-identifier">:match_all</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>)
33:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000260" class="method-detail">
        <a name="M000260"></a>

        <div class="method-heading">
          <a href="#M000260" class="method-signature">
          <span class="method-name">test_find_tagged_with_match_all_and_include</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000260-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000260-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test.rb, line 35</span>
35:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_find_tagged_with_match_all_and_include</span>
36:     <span class="ruby-identifier">assert_equivalent</span> [<span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_sky</span>), <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:sam_flowers</span>)], <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find_tagged_with</span>([<span class="ruby-value str">'Very good'</span>, <span class="ruby-value str">'Nature'</span>], <span class="ruby-identifier">:match_all</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>, <span class="ruby-identifier">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:tags</span>)
37:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000258" class="method-detail">
        <a name="M000258"></a>

        <div class="method-heading">
          <a href="#M000258" class="method-signature">
          <span class="method-name">test_find_tagged_with_nonexistant_tags</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000258-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000258-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test.rb, line 25</span>
25:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_find_tagged_with_nonexistant_tags</span>
26:     <span class="ruby-identifier">assert_equal</span> [], <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find_tagged_with</span>(<span class="ruby-value str">'ABCDEFG'</span>)
27:     <span class="ruby-identifier">assert_equal</span> [], <span class="ruby-constant">Photo</span>.<span class="ruby-identifier">find_tagged_with</span>([<span class="ruby-value str">'HIJKLM'</span>])
28:     <span class="ruby-identifier">assert_equal</span> [], <span class="ruby-constant">Photo</span>.<span class="ruby-identifier">find_tagged_with</span>([<span class="ruby-constant">Tag</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'unsaved tag'</span>)])
29:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000257" class="method-detail">
        <a name="M000257"></a>

        <div class="method-heading">
          <a href="#M000257" class="method-signature">
          <span class="method-name">test_find_tagged_with_nothing</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000257-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000257-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test.rb, line 20</span>
20:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_find_tagged_with_nothing</span>
21:     <span class="ruby-identifier">assert_equal</span> [], <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find_tagged_with</span>(<span class="ruby-value str">&quot;&quot;</span>)
22:     <span class="ruby-identifier">assert_equal</span> [], <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find_tagged_with</span>([])
23:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000296" class="method-detail">
        <a name="M000296"></a>

        <div class="method-heading">
          <a href="#M000296" class="method-signature">
          <span class="method-name">test_find_tagged_with_using_sti</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000296-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000296-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test.rb, line 290</span>
290:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_find_tagged_with_using_sti</span>
291:     <span class="ruby-identifier">special_post</span> = <span class="ruby-constant">SpecialPost</span>.<span class="ruby-identifier">create!</span>(<span class="ruby-identifier">:text</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Test&quot;</span>, <span class="ruby-identifier">:tag_list</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Random&quot;</span>)
292:     
293:     <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">special_post</span>],  <span class="ruby-constant">SpecialPost</span>.<span class="ruby-identifier">find_tagged_with</span>(<span class="ruby-value str">&quot;Random&quot;</span>)
294:     <span class="ruby-identifier">assert</span> <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find_tagged_with</span>(<span class="ruby-value str">&quot;Random&quot;</span>).<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">special_post</span>)
295:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000267" class="method-detail">
        <a name="M000267"></a>

        <div class="method-heading">
          <a href="#M000267" class="method-signature">
          <span class="method-name">test_include_tags_on_find_tagged_with</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000267-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000267-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test.rb, line 80</span>
80:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_include_tags_on_find_tagged_with</span>
81:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
82:       <span class="ruby-constant">Photo</span>.<span class="ruby-identifier">find_tagged_with</span>(<span class="ruby-value str">'Nature'</span>, <span class="ruby-identifier">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:tags</span>)
83:       <span class="ruby-constant">Photo</span>.<span class="ruby-identifier">find_tagged_with</span>(<span class="ruby-value str">&quot;Nature&quot;</span>, <span class="ruby-identifier">:include</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:taggings</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:tag</span> })
84:     <span class="ruby-keyword kw">end</span>
85:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000290" class="method-detail">
        <a name="M000290"></a>

        <div class="method-heading">
          <a href="#M000290" class="method-signature">
          <span class="method-name">test_instance_tag_counts</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000290-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000290-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test.rb, line 243</span>
243:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_instance_tag_counts</span>
244:     <span class="ruby-identifier">assert_tag_counts</span> <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_sky</span>).<span class="ruby-identifier">tag_counts</span>, <span class="ruby-identifier">:good</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">:nature</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7</span>
245:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000281" class="method-detail">
        <a name="M000281"></a>

        <div class="method-heading">
          <a href="#M000281" class="method-signature">
          <span class="method-name">test_new_tags</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000281-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000281-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test.rb, line 174</span>
174:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_new_tags</span>
175:     <span class="ruby-identifier">assert_equivalent</span> [<span class="ruby-value str">&quot;Very good&quot;</span>, <span class="ruby-value str">&quot;Nature&quot;</span>], <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_sky</span>).<span class="ruby-identifier">tag_list</span>
176:     <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_sky</span>).<span class="ruby-identifier">update_attributes!</span>(<span class="ruby-identifier">:tag_list</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{posts(:jonathan_sky).tag_list}, One, Two&quot;</span>)
177:     <span class="ruby-identifier">assert_equivalent</span> [<span class="ruby-value str">&quot;Very good&quot;</span>, <span class="ruby-value str">&quot;Nature&quot;</span>, <span class="ruby-value str">&quot;One&quot;</span>, <span class="ruby-value str">&quot;Two&quot;</span>], <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_sky</span>).<span class="ruby-identifier">tag_list</span>
178:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000280" class="method-detail">
        <a name="M000280"></a>

        <div class="method-heading">
          <a href="#M000280" class="method-signature">
          <span class="method-name">test_reassign_tag_list</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000280-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000280-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test.rb, line 162</span>
162:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_reassign_tag_list</span>
163:     <span class="ruby-identifier">assert_equivalent</span> [<span class="ruby-value str">&quot;Nature&quot;</span>, <span class="ruby-value str">&quot;Question&quot;</span>], <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_rain</span>).<span class="ruby-identifier">tag_list</span>
164:     <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_rain</span>).<span class="ruby-identifier">taggings</span>.<span class="ruby-identifier">reload</span>
165:     
166:     <span class="ruby-comment cmt"># Only an update of the posts table should be executed</span>
167:     <span class="ruby-identifier">assert_queries</span> <span class="ruby-value">1</span> <span class="ruby-keyword kw">do</span>
168:       <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_rain</span>).<span class="ruby-identifier">update_attributes!</span>(<span class="ruby-identifier">:tag_list</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_rain</span>).<span class="ruby-identifier">tag_list</span>.<span class="ruby-identifier">to_s</span>)
169:     <span class="ruby-keyword kw">end</span>
170:     
171:     <span class="ruby-identifier">assert_equivalent</span> [<span class="ruby-value str">&quot;Nature&quot;</span>, <span class="ruby-value str">&quot;Question&quot;</span>], <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_rain</span>).<span class="ruby-identifier">tag_list</span>
172:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000284" class="method-detail">
        <a name="M000284"></a>

        <div class="method-heading">
          <a href="#M000284" class="method-signature">
          <span class="method-name">test_remove_and_add_tag</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000284-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000284-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test.rb, line 195</span>
195:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_remove_and_add_tag</span>
196:     <span class="ruby-identifier">assert_equivalent</span> [<span class="ruby-value str">&quot;Very good&quot;</span>, <span class="ruby-value str">&quot;Nature&quot;</span>], <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_sky</span>).<span class="ruby-identifier">tag_list</span>
197:     <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_sky</span>).<span class="ruby-identifier">update_attributes!</span>(<span class="ruby-identifier">:tag_list</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Nature, Beautiful&quot;</span>)
198:     <span class="ruby-identifier">assert_equivalent</span> [<span class="ruby-value str">&quot;Nature&quot;</span>, <span class="ruby-value str">&quot;Beautiful&quot;</span>], <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_sky</span>).<span class="ruby-identifier">tag_list</span>
199:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000282" class="method-detail">
        <a name="M000282"></a>

        <div class="method-heading">
          <a href="#M000282" class="method-signature">
          <span class="method-name">test_remove_tag</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000282-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000282-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test.rb, line 180</span>
180:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_remove_tag</span>
181:     <span class="ruby-identifier">assert_equivalent</span> [<span class="ruby-value str">&quot;Very good&quot;</span>, <span class="ruby-value str">&quot;Nature&quot;</span>], <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_sky</span>).<span class="ruby-identifier">tag_list</span>
182:     <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_sky</span>).<span class="ruby-identifier">update_attributes!</span>(<span class="ruby-identifier">:tag_list</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Nature&quot;</span>)
183:     <span class="ruby-identifier">assert_equivalent</span> [<span class="ruby-value str">&quot;Nature&quot;</span>], <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_sky</span>).<span class="ruby-identifier">tag_list</span>
184:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000272" class="method-detail">
        <a name="M000272"></a>

        <div class="method-heading">
          <a href="#M000272" class="method-signature">
          <span class="method-name">test_tag_counts_duplicates_options_hash</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000272-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000272-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test.rb, line 109</span>
109:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_tag_counts_duplicates_options_hash</span>
110:     <span class="ruby-identifier">options</span> = { <span class="ruby-identifier">:at_least</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1=1'</span> }.<span class="ruby-identifier">freeze</span>
111:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-constant">Photo</span>.<span class="ruby-identifier">tag_counts</span>(<span class="ruby-identifier">options</span>) }
112:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000275" class="method-detail">
        <a name="M000275"></a>

        <div class="method-heading">
          <a href="#M000275" class="method-signature">
          <span class="method-name">test_tag_counts_on_association</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000275-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000275-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test.rb, line 123</span>
123:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_tag_counts_on_association</span>
124:     <span class="ruby-identifier">assert_tag_counts</span> <span class="ruby-identifier">users</span>(<span class="ruby-identifier">:jonathan</span>).<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">tag_counts</span>, <span class="ruby-identifier">:good</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">:nature</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>, <span class="ruby-identifier">:question</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
125:     <span class="ruby-identifier">assert_tag_counts</span> <span class="ruby-identifier">users</span>(<span class="ruby-identifier">:sam</span>).<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">tag_counts</span>, <span class="ruby-identifier">:good</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">:nature</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">:bad</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
126:     
127:     <span class="ruby-identifier">assert_tag_counts</span> <span class="ruby-identifier">users</span>(<span class="ruby-identifier">:jonathan</span>).<span class="ruby-identifier">photos</span>.<span class="ruby-identifier">tag_counts</span>, <span class="ruby-identifier">:animal</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>, <span class="ruby-identifier">:nature</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">:question</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">:bad</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
128:     <span class="ruby-identifier">assert_tag_counts</span> <span class="ruby-identifier">users</span>(<span class="ruby-identifier">:sam</span>).<span class="ruby-identifier">photos</span>.<span class="ruby-identifier">tag_counts</span>, <span class="ruby-identifier">:nature</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">:good</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
129:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000276" class="method-detail">
        <a name="M000276"></a>

        <div class="method-heading">
          <a href="#M000276" class="method-signature">
          <span class="method-name">test_tag_counts_on_association_with_options</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000276-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000276-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test.rb, line 131</span>
131:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_tag_counts_on_association_with_options</span>
132:     <span class="ruby-identifier">assert_equal</span> [], <span class="ruby-identifier">users</span>(<span class="ruby-identifier">:jonathan</span>).<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">tag_counts</span>(<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1=0'</span>)
133:     <span class="ruby-identifier">assert_tag_counts</span> <span class="ruby-identifier">users</span>(<span class="ruby-identifier">:jonathan</span>).<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">tag_counts</span>(<span class="ruby-identifier">:at_most</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>), <span class="ruby-identifier">:good</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">:question</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
134:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000269" class="method-detail">
        <a name="M000269"></a>

        <div class="method-heading">
          <a href="#M000269" class="method-signature">
          <span class="method-name">test_tag_counts_on_class_with_date_conditions</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000269-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000269-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test.rb, line 92</span>
92:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_tag_counts_on_class_with_date_conditions</span>
93:     <span class="ruby-identifier">assert_tag_counts</span> <span class="ruby-constant">Post</span>.<span class="ruby-identifier">tag_counts</span>(<span class="ruby-identifier">:start_at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2006</span>, <span class="ruby-value">8</span>, <span class="ruby-value">4</span>)), <span class="ruby-identifier">:good</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">:nature</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>, <span class="ruby-identifier">:question</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">:bad</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
94:     <span class="ruby-identifier">assert_tag_counts</span> <span class="ruby-constant">Post</span>.<span class="ruby-identifier">tag_counts</span>(<span class="ruby-identifier">:end_at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2006</span>, <span class="ruby-value">8</span>, <span class="ruby-value">6</span>)), <span class="ruby-identifier">:good</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">:nature</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">4</span>, <span class="ruby-identifier">:question</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
95:     <span class="ruby-identifier">assert_tag_counts</span> <span class="ruby-constant">Post</span>.<span class="ruby-identifier">tag_counts</span>(<span class="ruby-identifier">:start_at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2006</span>, <span class="ruby-value">8</span>, <span class="ruby-value">5</span>), <span class="ruby-identifier">:end_at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2006</span>, <span class="ruby-value">8</span>, <span class="ruby-value">10</span>)), <span class="ruby-identifier">:good</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">:nature</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">4</span>, <span class="ruby-identifier">:bad</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
96:     
97:     <span class="ruby-identifier">assert_tag_counts</span> <span class="ruby-constant">Photo</span>.<span class="ruby-identifier">tag_counts</span>(<span class="ruby-identifier">:start_at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2006</span>, <span class="ruby-value">8</span>, <span class="ruby-value">12</span>), <span class="ruby-identifier">:end_at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2006</span>, <span class="ruby-value">8</span>, <span class="ruby-value">19</span>)), <span class="ruby-identifier">:good</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">:nature</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">:bad</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">:question</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">:animal</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>
98:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000270" class="method-detail">
        <a name="M000270"></a>

        <div class="method-heading">
          <a href="#M000270" class="method-signature">
          <span class="method-name">test_tag_counts_on_class_with_frequencies</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000270-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000270-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test.rb, line 100</span>
100:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_tag_counts_on_class_with_frequencies</span>
101:     <span class="ruby-identifier">assert_tag_counts</span> <span class="ruby-constant">Photo</span>.<span class="ruby-identifier">tag_counts</span>(<span class="ruby-identifier">:at_least</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>), <span class="ruby-identifier">:nature</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>, <span class="ruby-identifier">:animal</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>
102:     <span class="ruby-identifier">assert_tag_counts</span> <span class="ruby-constant">Photo</span>.<span class="ruby-identifier">tag_counts</span>(<span class="ruby-identifier">:at_most</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>), <span class="ruby-identifier">:good</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">:question</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">:bad</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
103:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000271" class="method-detail">
        <a name="M000271"></a>

        <div class="method-heading">
          <a href="#M000271" class="method-signature">
          <span class="method-name">test_tag_counts_on_class_with_frequencies_and_conditions</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000271-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000271-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test.rb, line 105</span>
105:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_tag_counts_on_class_with_frequencies_and_conditions</span>
106:     <span class="ruby-identifier">assert_tag_counts</span> <span class="ruby-constant">Photo</span>.<span class="ruby-identifier">tag_counts</span>(<span class="ruby-identifier">:at_least</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1=1'</span>), <span class="ruby-identifier">:nature</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>, <span class="ruby-identifier">:animal</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>
107:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000277" class="method-detail">
        <a name="M000277"></a>

        <div class="method-heading">
          <a href="#M000277" class="method-signature">
          <span class="method-name">test_tag_counts_on_has_many_through</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000277-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000277-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test.rb, line 136</span>
136:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_tag_counts_on_has_many_through</span>
137:     <span class="ruby-identifier">assert_tag_counts</span> <span class="ruby-identifier">users</span>(<span class="ruby-identifier">:jonathan</span>).<span class="ruby-identifier">magazines</span>.<span class="ruby-identifier">tag_counts</span>, <span class="ruby-identifier">:good</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
138:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000278" class="method-detail">
        <a name="M000278"></a>

        <div class="method-heading">
          <a href="#M000278" class="method-signature">
          <span class="method-name">test_tag_counts_respects_custom_table_names</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000278-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000278-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test.rb, line 140</span>
140:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_tag_counts_respects_custom_table_names</span>
141:     <span class="ruby-constant">Tagging</span>.<span class="ruby-identifier">table_name</span> = <span class="ruby-value str">&quot;categorisations&quot;</span>
142:     <span class="ruby-constant">Tag</span>.<span class="ruby-identifier">table_name</span> = <span class="ruby-value str">&quot;categories&quot;</span>
143:     
144:     <span class="ruby-identifier">options</span> = <span class="ruby-constant">Photo</span>.<span class="ruby-identifier">find_options_for_tag_counts</span>(<span class="ruby-identifier">:start_at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>.<span class="ruby-identifier">weeks</span>.<span class="ruby-identifier">ago</span>, <span class="ruby-identifier">:end_at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">today</span>)
145:     <span class="ruby-identifier">sql</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">values</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">' '</span>)
146:     
147:     <span class="ruby-identifier">assert_no_match</span> <span class="ruby-regexp re">/taggings/</span>, <span class="ruby-identifier">sql</span>
148:     <span class="ruby-identifier">assert_no_match</span> <span class="ruby-regexp re">/tags/</span>, <span class="ruby-identifier">sql</span>
149:     
150:     <span class="ruby-identifier">assert_match</span> <span class="ruby-regexp re">/categorisations/</span>, <span class="ruby-identifier">sql</span>
151:     <span class="ruby-identifier">assert_match</span> <span class="ruby-regexp re">/categories/</span>, <span class="ruby-identifier">sql</span>
152:   <span class="ruby-keyword kw">ensure</span>
153:     <span class="ruby-constant">Tagging</span>.<span class="ruby-identifier">table_name</span> = <span class="ruby-value str">&quot;taggings&quot;</span>
154:     <span class="ruby-constant">Tag</span>.<span class="ruby-identifier">table_name</span> = <span class="ruby-value str">&quot;tags&quot;</span>
155:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000297" class="method-detail">
        <a name="M000297"></a>

        <div class="method-heading">
          <a href="#M000297" class="method-signature">
          <span class="method-name">test_tag_counts_using_sti</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000297-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000297-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test.rb, line 297</span>
297:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_tag_counts_using_sti</span>
298:     <span class="ruby-constant">SpecialPost</span>.<span class="ruby-identifier">create!</span>(<span class="ruby-identifier">:text</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Test&quot;</span>, <span class="ruby-identifier">:tag_list</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Nature&quot;</span>)
299:     
300:     <span class="ruby-identifier">assert_tag_counts</span> <span class="ruby-constant">SpecialPost</span>.<span class="ruby-identifier">tag_counts</span>, <span class="ruby-identifier">:nature</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
301:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000273" class="method-detail">
        <a name="M000273"></a>

        <div class="method-heading">
          <a href="#M000273" class="method-signature">
          <span class="method-name">test_tag_counts_with_limit</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000273-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000273-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test.rb, line 114</span>
114:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_tag_counts_with_limit</span>
115:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-constant">Photo</span>.<span class="ruby-identifier">tag_counts</span>(<span class="ruby-identifier">:limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>).<span class="ruby-identifier">size</span>
116:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-constant">Post</span>.<span class="ruby-identifier">tag_counts</span>(<span class="ruby-identifier">:at_least</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">4</span>, <span class="ruby-identifier">:limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>).<span class="ruby-identifier">size</span>
117:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000274" class="method-detail">
        <a name="M000274"></a>

        <div class="method-heading">
          <a href="#M000274" class="method-signature">
          <span class="method-name">test_tag_counts_with_limit_and_order</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000274-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000274-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test.rb, line 119</span>
119:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_tag_counts_with_limit_and_order</span>
120:     <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">tags</span>(<span class="ruby-identifier">:nature</span>), <span class="ruby-identifier">tags</span>(<span class="ruby-identifier">:good</span>)], <span class="ruby-constant">Post</span>.<span class="ruby-identifier">tag_counts</span>(<span class="ruby-identifier">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'count desc'</span>, <span class="ruby-identifier">:limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>)
121:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000300" class="method-detail">
        <a name="M000300"></a>

        <div class="method-heading">
          <a href="#M000300" class="method-signature">
          <span class="method-name">test_tag_destroyed_when_unused</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000300-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000300-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test.rb, line 322</span>
322:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_tag_destroyed_when_unused</span>
323:     <span class="ruby-constant">Tag</span>.<span class="ruby-identifier">destroy_unused</span> = <span class="ruby-keyword kw">true</span>
324:     
325:     <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_sky</span>).<span class="ruby-identifier">tag_list</span>.<span class="ruby-identifier">add</span>(<span class="ruby-value str">&quot;Random&quot;</span>)
326:     <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_sky</span>).<span class="ruby-identifier">save!</span>
327:     
328:     <span class="ruby-identifier">assert_difference</span> <span class="ruby-value str">'Tag.count'</span>, <span class="ruby-value">-1</span> <span class="ruby-keyword kw">do</span>
329:       <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_sky</span>).<span class="ruby-identifier">tag_list</span>.<span class="ruby-identifier">remove</span>(<span class="ruby-value str">&quot;Random&quot;</span>)
330:       <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_sky</span>).<span class="ruby-identifier">save!</span>
331:     <span class="ruby-keyword kw">end</span>
332:   <span class="ruby-keyword kw">ensure</span>
333:     <span class="ruby-constant">Tag</span>.<span class="ruby-identifier">destroy_unused</span> = <span class="ruby-keyword kw">false</span>
334:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000286" class="method-detail">
        <a name="M000286"></a>

        <div class="method-heading">
          <a href="#M000286" class="method-signature">
          <span class="method-name">test_tag_list_accessors_on_new_record</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000286-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000286-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test.rb, line 207</span>
207:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_tag_list_accessors_on_new_record</span>
208:     <span class="ruby-identifier">p</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:text</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'Test'</span>)
209:     
210:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">tag_list</span>.<span class="ruby-identifier">blank?</span>
211:     <span class="ruby-identifier">p</span>.<span class="ruby-identifier">tag_list</span> = <span class="ruby-value str">&quot;One, Two&quot;</span>
212:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;One, Two&quot;</span>, <span class="ruby-identifier">p</span>.<span class="ruby-identifier">tag_list</span>.<span class="ruby-identifier">to_s</span>
213:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000291" class="method-detail">
        <a name="M000291"></a>

        <div class="method-heading">
          <a href="#M000291" class="method-signature">
          <span class="method-name">test_tag_list_populated_when_cache_nil</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000291-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000291-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test.rb, line 247</span>
247:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_tag_list_populated_when_cache_nil</span>
248:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_sky</span>).<span class="ruby-identifier">cached_tag_list</span>
249:     <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_sky</span>).<span class="ruby-identifier">save!</span>
250:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_sky</span>).<span class="ruby-identifier">tag_list</span>.<span class="ruby-identifier">to_s</span>, <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_sky</span>).<span class="ruby-identifier">cached_tag_list</span>
251:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000279" class="method-detail">
        <a name="M000279"></a>

        <div class="method-heading">
          <a href="#M000279" class="method-signature">
          <span class="method-name">test_tag_list_reader</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000279-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000279-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test.rb, line 157</span>
157:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_tag_list_reader</span>
158:     <span class="ruby-identifier">assert_equivalent</span> [<span class="ruby-value str">&quot;Very good&quot;</span>, <span class="ruby-value str">&quot;Nature&quot;</span>], <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_sky</span>).<span class="ruby-identifier">tag_list</span>
159:     <span class="ruby-identifier">assert_equivalent</span> [<span class="ruby-value str">&quot;Bad&quot;</span>, <span class="ruby-value str">&quot;Crazy animal&quot;</span>], <span class="ruby-identifier">photos</span>(<span class="ruby-identifier">:jonathan_bad_cat</span>).<span class="ruby-identifier">tag_list</span>
160:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000289" class="method-detail">
        <a name="M000289"></a>

        <div class="method-heading">
          <a href="#M000289" class="method-signature">
          <span class="method-name">test_tag_list_reset_on_reload</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000289-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000289-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test.rb, line 235</span>
235:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_tag_list_reset_on_reload</span>
236:     <span class="ruby-identifier">p</span> = <span class="ruby-identifier">photos</span>(<span class="ruby-identifier">:jonathan_questioning_dog</span>)
237:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">p</span>.<span class="ruby-identifier">tag_list</span>.<span class="ruby-identifier">blank?</span>
238:     <span class="ruby-identifier">p</span>.<span class="ruby-identifier">tag_list</span> = <span class="ruby-keyword kw">nil</span>
239:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">tag_list</span>.<span class="ruby-identifier">blank?</span>
240:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">p</span>.<span class="ruby-identifier">reload</span>.<span class="ruby-identifier">tag_list</span>.<span class="ruby-identifier">blank?</span>
241:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000299" class="method-detail">
        <a name="M000299"></a>

        <div class="method-heading">
          <a href="#M000299" class="method-signature">
          <span class="method-name">test_tag_not_destroyed_when_unused</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000299-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000299-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test.rb, line 312</span>
312:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_tag_not_destroyed_when_unused</span>
313:     <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_sky</span>).<span class="ruby-identifier">tag_list</span>.<span class="ruby-identifier">add</span>(<span class="ruby-value str">&quot;Random&quot;</span>)
314:     <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_sky</span>).<span class="ruby-identifier">save!</span>
315:   
316:     <span class="ruby-identifier">assert_no_difference</span> <span class="ruby-value str">'Tag.count'</span> <span class="ruby-keyword kw">do</span>
317:       <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_sky</span>).<span class="ruby-identifier">tag_list</span>.<span class="ruby-identifier">remove</span>(<span class="ruby-value str">&quot;Random&quot;</span>)
318:       <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_sky</span>).<span class="ruby-identifier">save!</span>
319:     <span class="ruby-keyword kw">end</span>
320:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000285" class="method-detail">
        <a name="M000285"></a>

        <div class="method-heading">
          <a href="#M000285" class="method-signature">
          <span class="method-name">test_tags_not_saved_if_validation_fails</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000285-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000285-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/acts_as_taggable_on_steroids/test/acts_as_taggable_test.rb, line 201</span>
201:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_tags_not_saved_if_validation_fails</span>
202:     <span class="ruby-identifier">assert_equivalent</span> [<span class="ruby-value str">&quot;Very good&quot;</span>, <span class="ruby-value str">&quot;Nature&quot;</span>], <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_sky</span>).<span class="ruby-identifier">tag_list</span>
203:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_sky</span>).<span class="ruby-identifier">update_attributes</span>(<span class="ruby-identifier">:tag_list</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;One, Two&quot;</span>, <span class="ruby-identifier">:text</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;&quot;</span>)
204:     <span class="ruby-identifier">assert_equivalent</span> [<span class="ruby-value str">&quot;Very good&quot;</span>, <span class="ruby-value str">&quot;Nature&quot;</span>], <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">posts</span>(<span class="ruby-identifier">:jonathan_sky</span>).<span class="ruby-identifier">id</span>).<span class="ruby-identifier">tag_list</span>
205:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>